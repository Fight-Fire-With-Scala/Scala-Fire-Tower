<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="974px" preserveAspectRatio="none" style="width:1394px;height:974px;" version="1.1" viewBox="0 0 1394 974" width="1394px" zoomAndPan="magnify"><defs/><g><!--cluster model.gameboard.player--><polygon fill="#FFFFFF" points="22,23.93,207.625,23.93,214.625,48.9979,1372,48.9979,1372,962,22,962,22,23.93" style="stroke: #000000; stroke-width: 1.5;"/><line style="stroke: #000000; stroke-width: 1.5;" x1="22" x2="214.625" y1="48.9979" y2="48.9979"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="179.625" x="26" y="40.8959">model.gameboard.player</text><!--class Player--><rect fill="#FEFECE" height="283.4165" id="Player" style="stroke: #A80036; stroke-width: 1.5;" width="460" x="351" y="61.93"/><ellipse cx="524.75" cy="83.2741" fill="#ADD8E6" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M525.7656,90.5241 L523.7188,90.5241 L523.7188,79.7272 L519.9219,79.7272 L519.9219,77.8522 L529.5469,77.8522 L529.5469,79.7272 L525.7656,79.7272 L525.7656,90.5241 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="108" x="543.25" y="79.7581">«companion object»</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="35" x="579.75" y="96.1022">Player</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="352" x2="810" y1="104.6182" y2="104.6182"/><ellipse cx="362" cy="117.6092" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="64" x="371" y="120.3771">String name</text><ellipse cx="362" cy="132.5911" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="92" x="371" y="135.359">List[Move] moves</text><ellipse cx="362" cy="147.5729" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="81" x="371" y="150.3409">List[Card] hand</text><ellipse cx="362" cy="162.5548" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="125" x="371" y="165.3228">Option[Card] extraCard</text><ellipse cx="362" cy="177.5367" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="182" x="371" y="180.3047">Set[TowerPosition] towerPositions</text><ellipse cx="362" cy="192.5186" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="172" x="371" y="195.2866">Option[Move] lastCardsRedrawn</text><ellipse cx="362" cy="207.5005" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="159" x="371" y="210.2685">Option[Move] lastCardChosen</text><ellipse cx="362" cy="222.4824" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="148" x="371" y="225.2504">Option[Move] lastBotChoice</text><ellipse cx="362" cy="237.4643" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="173" x="371" y="240.2322">Option[Move] lastPatternChosen</text><ellipse cx="362" cy="252.4462" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="169" x="371" y="255.2141">Option[Move] lastPatternPlayed</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="352" x2="810" y1="262.4371" y2="262.4371"/><ellipse cx="362" cy="275.4281" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="204" x="371" y="278.196">drawCardFromDeck(card: Card): Player</text><ellipse cx="362" cy="290.4099" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="229" x="371" y="293.1779">playCard(cardId: Int): (Player, Option[Card])</text><ellipse cx="362" cy="305.3918" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="155" x="371" y="308.1598">logMove(move: Move): Player</text><ellipse cx="362" cy="320.3737" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="199" x="371" y="323.1417">discardCards(cardIds: List[Int]): Player</text><polygon fill="#FFFF44" points="362,330.3556,366,334.3556,362,338.3556,358,334.3556" style="stroke: #B38D22; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="434" x="371" y="338.1236">updatePlayer(moves: List[Move], hand: List[Card], extraCard: Option[Card]): Player</text><!--class Person--><rect fill="#FEFECE" height="54.9819" id="Person" style="stroke: #A80036; stroke-width: 1.5;" width="460" x="38" y="484.25"/><ellipse cx="244.25" cy="500.25" fill="#ADD8E6" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M245.2656,507.5 L243.2188,507.5 L243.2188,496.7031 L239.4219,496.7031 L239.4219,494.8281 L249.0469,494.8281 L249.0469,496.7031 L245.2656,496.7031 L245.2656,507.5 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="39" x="264.75" y="504.906">Person</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="39" x2="497" y1="516.25" y2="516.25"/><polygon fill="#FFFF44" points="49,524.2409,53,528.2409,49,532.2409,45,528.2409" style="stroke: #B38D22; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="434" x="58" y="532.0089">updatePlayer(moves: List[Move], hand: List[Card], extraCard: Option[Card]): Player</text><!--class Bot--><rect fill="#FEFECE" height="122.9094" id="Bot" style="stroke: #A80036; stroke-width: 1.5;" width="460" x="38" y="678.14"/><ellipse cx="254.25" cy="694.14" fill="#ADD8E6" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M255.2656,701.39 L253.2188,701.39 L253.2188,690.5931 L249.4219,690.5931 L249.4219,688.7181 L259.0469,688.7181 L259.0469,690.5931 L255.2656,690.5931 L255.2656,701.39 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="19" x="274.75" y="698.796">Bot</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="39" x2="497" y1="710.14" y2="710.14"/><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="46" y="720.1309"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="147" x="58" y="725.8989">BotBehaviour botBehaviour</text><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="46" y="735.1128"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="182" x="58" y="740.8808">Option[BotSubject] botObservable</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="39" x2="497" y1="748.1038" y2="748.1038"/><polygon fill="#FFFF44" points="49,756.0947,53,760.0947,49,764.0947,45,760.0947" style="stroke: #B38D22; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="434" x="58" y="763.8627">updatePlayer(moves: List[Move], hand: List[Card], extraCard: Option[Card]): Player</text><ellipse cx="49" cy="776.0766" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="315" x="58" y="778.8446">onUpdateGamePhaseRequest(phaseEffect: PhaseEffect): Unit</text><ellipse cx="49" cy="791.0585" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="165" x="58" y="793.8265">think(using model: Model): Unit</text><!--class Move--><rect fill="#FEFECE" height="69.9638" id="Move" style="stroke: #A80036; stroke-width: 1.5;" width="116" x="570" y="476.76"/><ellipse cx="608.85" cy="492.76" fill="#ADD8E6" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M609.8656,500.01 L607.8188,500.01 L607.8188,489.2131 L604.0219,489.2131 L604.0219,487.3381 L613.6469,487.3381 L613.6469,489.2131 L609.8656,489.2131 L609.8656,500.01 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="31" x="628.15" y="497.416">Move</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="571" x2="685" y1="508.76" y2="508.76"/><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="578" y="518.7509"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="83" x="590" y="524.5189">int turnNumber</text><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="578" y="533.7328"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="90" x="590" y="539.5008">MoveEffect effect</text><!--class IMakeDecision--><rect fill="#FEFECE" height="84.9457" id="IMakeDecision" style="stroke: #A80036; stroke-width: 1.5;" width="448" x="533" y="697.13"/><ellipse cx="711.25" cy="713.13" fill="#ADD8E6" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M712.2656,720.38 L710.2188,720.38 L710.2188,709.5831 L706.4219,709.5831 L706.4219,707.7081 L716.0469,707.7081 L716.0469,709.5831 L712.2656,709.5831 L712.2656,720.38 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="83" x="731.75" y="717.786">IMakeDecision</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="534" x2="980" y1="729.13" y2="729.13"/><polygon fill="#FFFF44" points="544,737.1209,548,741.1209,544,745.1209,540,741.1209" style="stroke: #B38D22; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="422" x="553" y="744.8889">filterCardsBasedOnDecision(hand: List[Card], decision: AttackDefense): List[Card]</text><polygon fill="#FFFF44" points="544,752.1028,548,756.1028,544,760.1028,540,756.1028" style="stroke: #B38D22; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="265" x="553" y="759.8708">isFireTokenInTowerArea(gb: GameBoard): Boolean</text><polygon fill="#FFFF44" points="544,767.0847,548,771.0847,544,775.0847,540,771.0847" style="stroke: #B38D22; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="270" x="553" y="774.8527">isFireBreakTokenInBoard(gb: GameBoard): Boolean</text><!--class ISendMessages--><rect fill="#FEFECE" height="54.9819" id="ISendMessages" style="stroke: #A80036; stroke-width: 1.5;" width="341" x="1015.5" y="712.11"/><ellipse cx="1137.25" cy="728.11" fill="#ADD8E6" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M1138.2656,735.36 L1136.2188,735.36 L1136.2188,724.5631 L1132.4219,724.5631 L1132.4219,722.6881 L1142.0469,722.6881 L1142.0469,724.5631 L1138.2656,724.5631 L1138.2656,735.36 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="89" x="1157.75" y="732.766">ISendMessages</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="1016.5" x2="1355.5" y1="744.11" y2="744.11"/><polygon fill="#FFFF44" points="1026.5,752.1009,1030.5,756.1009,1026.5,760.1009,1022.5,756.1009" style="stroke: #B38D22; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="315" x="1035.5" y="759.8689">onUpdateGamePhaseRequest(phaseEffect: PhaseEffect): Unit</text><!--class ThinkingPlayer--><rect fill="#FEFECE" height="212.8008" id="ThinkingPlayer" style="stroke: #A80036; stroke-width: 1.5;" width="425" x="721.5" y="405.34"/><ellipse cx="888.75" cy="421.34" fill="#ADD8E6" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M889.7656,428.59 L887.7188,428.59 L887.7188,417.7931 L883.9219,417.7931 L883.9219,415.9181 L893.5469,415.9181 L893.5469,417.7931 L889.7656,417.7931 L889.7656,428.59 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="82" x="909.25" y="425.996">ThinkingPlayer</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="722.5" x2="1145.5" y1="437.34" y2="437.34"/><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="729.5" y="447.3309"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="147" x="741.5" y="453.0989">BotBehaviour botBehaviour</text><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="729.5" y="462.3128"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="182" x="741.5" y="468.0808">Option[BotSubject] botObservable</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="722.5" x2="1145.5" y1="475.3038" y2="475.3038"/><ellipse cx="732.5" cy="488.2947" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="133" x="741.5" y="491.0627">think(model: Model): Unit</text><rect fill="#F24D5C" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="729.5" y="500.2766"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="399" x="741.5" y="506.0446">handleMoveAndApplyEffect(model: Model, patternEffect: PatternEffect): Unit</text><polygon fill="#FFFF44" points="732.5,513.2585,736.5,517.2585,732.5,521.2585,728.5,517.2585" style="stroke: #B38D22; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="241" x="741.5" y="521.0265">thinkForWindPhase(using model: Model): Unit</text><polygon fill="#FFFF44" points="732.5,528.2404,736.5,532.2404,732.5,536.2404,728.5,532.2404" style="stroke: #B38D22; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="254" x="741.5" y="536.0084">thinkForWaitingPhase(using model: Model): Unit</text><polygon fill="#FFFF44" points="732.5,543.2223,736.5,547.2223,732.5,551.2223,728.5,547.2223" style="stroke: #B38D22; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="279" x="741.5" y="550.9902">thinkForRedrawCardPhase(using model: Model): Unit</text><polygon fill="#FFFF44" points="732.5,558.2042,736.5,562.2042,732.5,566.2042,728.5,562.2042" style="stroke: #B38D22; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="309" x="741.5" y="565.9721">thinkForPlayStandardCardPhase(using model: Model): Unit</text><polygon fill="#FFFF44" points="732.5,573.186,736.5,577.186,732.5,581.186,728.5,577.186" style="stroke: #B38D22; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="258" x="741.5" y="580.954">thinkForDecisionPhase(using model: Model): Unit</text><polygon fill="#FFFF44" points="732.5,588.1679,736.5,592.1679,732.5,596.1679,728.5,592.1679" style="stroke: #B38D22; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="297" x="741.5" y="595.9359">thinkForPlaySpecialCardPhase(using model: Model): Unit</text><rect fill="#F24D5C" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="729.5" y="605.1498"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="388" x="741.5" y="610.9178">handleMove(lastMove: Option[Move]): (Option[Int], Map[Position, Token])</text><!--class BotBehaviour--><rect fill="#FEFECE" height="84.9457" id="BotBehaviour" style="stroke: #A80036; stroke-width: 1.5;" width="108" x="214" y="861.05"/><ellipse cx="229" cy="877.05" fill="#FFA500" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M232.4688,883.55 L225.1563,883.55 L225.1563,870.8781 L232.4688,870.8781 L232.4688,872.7531 L227.2031,872.7531 L227.2031,876.0188 L232.1563,876.0188 L232.1563,877.8781 L227.2031,877.8781 L227.2031,881.675 L232.4688,881.675 L232.4688,883.55 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="76" x="243" y="881.706">BotBehaviour</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="215" x2="321" y1="893.05" y2="893.05"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="57" x="220" y="908.8089">Aggressive</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="47" x="220" y="923.7908">Balanced</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="51" x="220" y="938.7727">Defensive</text><!--link Player to Person--><path d="M421.72,360.41 C372.88,408.17 324.4,455.58 295.32,484.03 " fill="none" id="Player-Person" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="none" points="416.59,355.63,435.79,346.65,426.38,365.64,416.59,355.63" style="stroke: #A80036; stroke-width: 1.0;"/><!--link Player to Bot--><path d="M557.26,366.68 C540.34,480.29 519.93,612.84 516,618.14 C498.06,642.38 473.93,661.98 447.74,677.77 " fill="none" id="Player-Bot" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="none" points="550.29,365.98,560.15,347.22,564.14,368.04,550.29,365.98" style="stroke: #A80036; stroke-width: 1.0;"/><!--link Player to ThinkingPlayer--><path d="M759.99,359.85 C777.61,375.13 795.2,390.38 812.06,405 " fill="none" id="Player-ThinkingPlayer" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="none" points="755.48,365.2,744.95,346.81,764.65,354.62,755.48,365.2" style="stroke: #A80036; stroke-width: 1.0;"/><!--link Player to Move--><path d="M602.64,345.59 C609.62,391.05 616.82,437.94 621.76,470.08 " fill="none" id="Player-Move" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="622.48,474.82,625.0712,465.3181,621.7229,469.8776,617.1634,466.5294,622.48,474.82" style="stroke: #A80036; stroke-width: 1.0;"/><!--link Bot to BotBehaviour--><path d="M268,801.36 C268,818.79 268,837.55 268,854.13 " fill="none" id="Bot-BotBehaviour" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="268,859.09,272,850.09,268,854.09,264,850.09,268,859.09" style="stroke: #A80036; stroke-width: 1.0;"/><!--link ThinkingPlayer to Bot--><path d="M701.3,618.52 C625.99,645.44 559.78,665.23 498.44,682.08 " fill="none" id="ThinkingPlayer-Bot" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="none" points="698.56,612.07,719.75,611.85,703.33,625.23,698.56,612.07" style="stroke: #A80036; stroke-width: 1.0;"/><!--link ThinkingPlayer to ISendMessages--><path d="M1067.72,632.59 C1101.01,662.43 1133.58,691.62 1156.09,711.79 " fill="none" id="ThinkingPlayer-ISendMessages" style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 7.0,7.0;"/><polygon fill="none" points="1063.23,637.97,1053.01,619.41,1072.58,627.54,1063.23,637.97" style="stroke: #A80036; stroke-width: 1.0;"/><!--link ThinkingPlayer to IMakeDecision--><path d="M838.17,635.02 C820.76,657.24 803.73,678.98 789.8,696.75 " fill="none" id="ThinkingPlayer-IMakeDecision" style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 7.0,7.0;"/><polygon fill="none" points="832.42,631.01,850.27,619.59,843.44,639.65,832.42,631.01" style="stroke: #A80036; stroke-width: 1.0;"/><!--
@startuml
hide empty members
skinparam shadowing false

package model.gameboard.player {
  class Player << (T, lightblue) companion object >> {
    + String name
    + List[Move] moves
    + List[Card] hand
    + Option[Card] extraCard
    + Set[TowerPosition] towerPositions
    + drawCardFromDeck(card: Card): Player
    + playCard(cardId: Int): (Player, Option[Card])
    + logMove(move: Move): Player
    + discardCards(cardIds: List[Int]): Player
    # updatePlayer(moves: List[Move], hand: List[Card], extraCard: Option[Card]): Player
    + Option[Move] lastCardsRedrawn
    + Option[Move] lastCardChosen
    + Option[Move] lastBotChoice
    + Option[Move] lastPatternChosen
    + Option[Move] lastPatternPlayed
  }

  class Person << (T, lightblue) >> {
    # updatePlayer(moves: List[Move], hand: List[Card], extraCard: Option[Card]): Player
  }

  class Bot << (T, lightblue) >> {
    - BotBehaviour botBehaviour
    - Option[BotSubject] botObservable
    # updatePlayer(moves: List[Move], hand: List[Card], extraCard: Option[Card]): Player
    + onUpdateGamePhaseRequest(phaseEffect: PhaseEffect): Unit
    + think(using model: Model): Unit
  }

  class Move << (T, lightblue) >> {
    - int turnNumber
    - MoveEffect effect
  }

  class IMakeDecision << (T, lightblue) >> {
    # filterCardsBasedOnDecision(hand: List[Card], decision: AttackDefense): List[Card]
    # isFireTokenInTowerArea(gb: GameBoard): Boolean
    # isFireBreakTokenInBoard(gb: GameBoard): Boolean
  }

  class ISendMessages << (T, lightblue) >> {
    # onUpdateGamePhaseRequest(phaseEffect: PhaseEffect): Unit
  }

  class ThinkingPlayer << (T, lightblue) >> {
    - BotBehaviour botBehaviour
    - Option[BotSubject] botObservable
    + think(model: Model): Unit
    - handleMoveAndApplyEffect(model: Model, patternEffect: PatternEffect): Unit
    # thinkForWindPhase(using model: Model): Unit
    # thinkForWaitingPhase(using model: Model): Unit
    # thinkForRedrawCardPhase(using model: Model): Unit
    # thinkForPlayStandardCardPhase(using model: Model): Unit
    # thinkForDecisionPhase(using model: Model): Unit
    # thinkForPlaySpecialCardPhase(using model: Model): Unit
    - handleMove(lastMove: Option[Move]): (Option[Int], Map[Position, Token])
  }


  enum BotBehaviour << (E, orange) >> {
    Aggressive
    Balanced
    Defensive
  }
}

Player <|- - Person
Player <|- - Bot
Player <|- - ThinkingPlayer
Player - -> Move
Bot - -> BotBehaviour
ThinkingPlayer <|- - Bot
ThinkingPlayer <|.. ISendMessages
ThinkingPlayer <|.. IMakeDecision

@enduml

PlantUML version 1.2019.06(Fri May 24 19:10:25 CEST 2019)
(APACHE source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Java Version: 21.0.3+9-LTS
Operating System: Linux
OS Version: 6.10.6-200.fc40.x86_64
Default Encoding: UTF-8
Language: it
Country: IT
--></g></svg>