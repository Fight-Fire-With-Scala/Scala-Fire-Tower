<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="1055px" preserveAspectRatio="none" style="width:1128px;height:1055px;" version="1.1" viewBox="0 0 1128 1055" width="1128px" zoomAndPan="magnify"><defs><filter height="300%" id="f1fawemh8s3fr3" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><!--cluster model.gameboard--><polygon fill="#FFFFFF" filter="url(#f1fawemh8s3fr3)" points="22,23.53,158.5625,23.53,165.5625,48.5979,1106,48.5979,1106,1043,22,1043,22,23.53" style="stroke: #000000; stroke-width: 1.5;"/><line style="stroke: #000000; stroke-width: 1.5;" x1="22" x2="165.5625" y1="48.5979" y2="48.5979"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="130.5625" x="26" y="40.4959">model.gameboard</text><!--class GameBoard--><rect fill="#FEFECE" filter="url(#f1fawemh8s3fr3)" height="242.7645" id="GameBoard" style="stroke: #A80036; stroke-width: 1.5;" width="283" x="401.5" y="185.51"/><ellipse cx="504.75" cy="201.51" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M504.8594,197.0413 Q503.9375,197.0413 503.2031,197.3538 Q502.4844,197.6663 501.9844,198.26 Q501.4844,198.8381 501.2031,199.7131 Q500.9375,200.5881 500.9375,201.6819 Q500.9375,203.1194 501.375,204.1663 Q501.8281,205.2131 502.6719,205.76 Q503.5313,206.3069 504.8438,206.3069 Q505.625,206.3069 506.3125,206.1819 Q507.0156,206.0413 508.0156,205.7288 L508.0156,207.6038 Q507.1563,207.9319 506.3906,208.0569 Q505.6406,208.1819 504.625,208.1819 Q502.7031,208.1819 501.3906,207.385 Q500.0938,206.5725 499.4375,205.1038 Q498.7813,203.6194 498.7813,201.6506 Q498.7813,200.2288 499.1719,199.0569 Q499.5781,197.8694 500.3594,196.9944 Q501.1406,196.1194 502.2813,195.6506 Q503.4219,195.1663 504.8906,195.1663 Q505.8438,195.1663 506.7344,195.3694 Q507.6406,195.5569 508.5781,196.0256 L507.75,197.8069 Q506.9688,197.4319 506.3125,197.2444 Q505.6563,197.0413 504.8594,197.0413 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="68" x="525.25" y="206.166">GameBoard</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="402.5" x2="683.5" y1="217.51" y2="217.51"/><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="409.5" y="227.5009"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="67" x="421.5" y="233.2689">Board board</text><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="409.5" y="242.4828"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="52" x="421.5" y="248.2508">Deck deck</text><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="409.5" y="257.4647"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="75" x="421.5" y="263.2327">Player player1</text><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="409.5" y="272.4466"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="75" x="421.5" y="278.2146">Player player2</text><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="409.5" y="287.4285"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="152" x="421.5" y="293.1965">PlayerToggle playerManager</text><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="409.5" y="302.4104"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="83" x="421.5" y="308.1784">int turnNumber</text><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="409.5" y="317.3923"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="124" x="421.5" y="323.1602">GamePhase gamePhase</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="402.5" x2="683.5" y1="330.3832" y2="330.3832"/><ellipse cx="412.5" cy="343.3742" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="161" x="421.5" y="346.1421">isGameEnded(): Option[Player]</text><ellipse cx="412.5" cy="358.356" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="136" x="421.5" y="361.124">getCurrentPlayer(): Player</text><ellipse cx="412.5" cy="373.3379" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="116" x="421.5" y="376.1059">getOpponent(): Player</text><ellipse cx="412.5" cy="388.3198" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="257" x="421.5" y="391.0878">updateCurrentPlayer(player: Player): GameBoard</text><ellipse cx="412.5" cy="403.3017" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="145" x="421.5" y="406.0697">changePlayer(): GameBoard</text><ellipse cx="412.5" cy="418.2836" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="228" x="421.5" y="421.0516">solveEffect(effect: IGameEffect): GameBoard</text><!--class Board--><rect fill="#FEFECE" filter="url(#f1fawemh8s3fr3)" height="122.9094" id="Board" style="stroke: #A80036; stroke-width: 1.5;" width="281" x="38.5" y="511.74"/><ellipse cx="157.75" cy="527.74" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M157.8594,523.2713 Q156.9375,523.2713 156.2031,523.5838 Q155.4844,523.8963 154.9844,524.49 Q154.4844,525.0681 154.2031,525.9431 Q153.9375,526.8181 153.9375,527.9119 Q153.9375,529.3494 154.375,530.3963 Q154.8281,531.4431 155.6719,531.99 Q156.5313,532.5369 157.8438,532.5369 Q158.625,532.5369 159.3125,532.4119 Q160.0156,532.2713 161.0156,531.9588 L161.0156,533.8338 Q160.1563,534.1619 159.3906,534.2869 Q158.6406,534.4119 157.625,534.4119 Q155.7031,534.4119 154.3906,533.615 Q153.0938,532.8025 152.4375,531.3338 Q151.7813,529.8494 151.7813,527.8806 Q151.7813,526.4588 152.1719,525.2869 Q152.5781,524.0994 153.3594,523.2244 Q154.1406,522.3494 155.2813,521.8806 Q156.4219,521.3963 157.8906,521.3963 Q158.8438,521.3963 159.7344,521.5994 Q160.6406,521.7869 161.5781,522.2556 L160.75,524.0369 Q159.9688,523.6619 159.3125,523.4744 Q158.6563,523.2713 157.8594,523.2713 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="34" x="178.25" y="532.396">Board</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="39.5" x2="318.5" y1="543.74" y2="543.74"/><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="46.5" y="553.7309"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="48" x="58.5" y="559.4989">Grid grid</text><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="46.5" y="568.7128"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="125" x="58.5" y="574.4808">Direction windDirection</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="39.5" x2="318.5" y1="581.7038" y2="581.7038"/><ellipse cx="49.5" cy="594.6947" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="255" x="58.5" y="597.4627">isOnFire(towerPosition: TowerPosition): Boolean</text><ellipse cx="49.5" cy="609.6766" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="230" x="58.5" y="612.4446">withRandomWindAndStandardGrid(): Board</text><ellipse cx="49.5" cy="624.6585" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="231" x="58.5" y="627.4265">withRandomWindAndEndgameGrid(): Board</text><!--class Deck--><rect fill="#FEFECE" filter="url(#f1fawemh8s3fr3)" height="152.8732" id="Deck" style="stroke: #A80036; stroke-width: 1.5;" width="233" x="188.5" y="687.13"/><ellipse cx="286.75" cy="703.13" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M286.8594,698.6613 Q285.9375,698.6613 285.2031,698.9738 Q284.4844,699.2863 283.9844,699.88 Q283.4844,700.4581 283.2031,701.3331 Q282.9375,702.2081 282.9375,703.3019 Q282.9375,704.7394 283.375,705.7863 Q283.8281,706.8331 284.6719,707.38 Q285.5313,707.9269 286.8438,707.9269 Q287.625,707.9269 288.3125,707.8019 Q289.0156,707.6613 290.0156,707.3488 L290.0156,709.2238 Q289.1563,709.5519 288.3906,709.6769 Q287.6406,709.8019 286.625,709.8019 Q284.7031,709.8019 283.3906,709.005 Q282.0938,708.1925 281.4375,706.7238 Q280.7813,705.2394 280.7813,703.2706 Q280.7813,701.8488 281.1719,700.6769 Q281.5781,699.4894 282.3594,698.6144 Q283.1406,697.7394 284.2813,697.2706 Q285.4219,696.7863 286.8906,696.7863 Q287.8438,696.7863 288.7344,696.9894 Q289.6406,697.1769 290.5781,697.6456 L289.75,699.4269 Q288.9688,699.0519 288.3125,698.8644 Q287.6563,698.6613 286.8594,698.6613 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="28" x="307.25" y="707.786">Deck</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="189.5" x2="420.5" y1="719.13" y2="719.13"/><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="196.5" y="729.1209"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="131" x="208.5" y="734.8889">List[Card] standardCards</text><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="196.5" y="744.1028"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="119" x="208.5" y="749.8708">List[Card] specialCards</text><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="196.5" y="759.0847"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="119" x="208.5" y="764.8527">List[Card] playedCards</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="189.5" x2="420.5" y1="772.0757" y2="772.0757"/><ellipse cx="199.5" cy="785.0666" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="73" x="208.5" y="787.8346">shuffle(): Deck</text><ellipse cx="199.5" cy="800.0485" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="171" x="208.5" y="802.8165">drawCard(): (Option[Card], Deck)</text><ellipse cx="199.5" cy="815.0304" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="207" x="208.5" y="817.7984">drawSpecialCard(): (Option[Card], Deck)</text><rect fill="#F24D5C" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="196.5" y="827.0123"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="95" x="208.5" y="832.7802">regenerate(): Deck</text><!--class Player--><rect fill="#FEFECE" filter="url(#f1fawemh8s3fr3)" height="48" id="Player" style="stroke: #A80036; stroke-width: 1.5;" width="67" x="451.5" y="870"/><ellipse cx="466.5" cy="886" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M466.6094,881.5313 Q465.6875,881.5313 464.9531,881.8438 Q464.2344,882.1563 463.7344,882.75 Q463.2344,883.3281 462.9531,884.2031 Q462.6875,885.0781 462.6875,886.1719 Q462.6875,887.6094 463.125,888.6563 Q463.5781,889.7031 464.4219,890.25 Q465.2813,890.7969 466.5938,890.7969 Q467.375,890.7969 468.0625,890.6719 Q468.7656,890.5313 469.7656,890.2188 L469.7656,892.0938 Q468.9063,892.4219 468.1406,892.5469 Q467.3906,892.6719 466.375,892.6719 Q464.4531,892.6719 463.1406,891.875 Q461.8438,891.0625 461.1875,889.5938 Q460.5313,888.1094 460.5313,886.1406 Q460.5313,884.7188 460.9219,883.5469 Q461.3281,882.3594 462.1094,881.4844 Q462.8906,880.6094 464.0313,880.1406 Q465.1719,879.6563 466.6406,879.6563 Q467.5938,879.6563 468.4844,879.8594 Q469.3906,880.0469 470.3281,880.5156 L469.5,882.2969 Q468.7188,881.9219 468.0625,881.7344 Q467.4063,881.5313 466.6094,881.5313 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="35" x="480.5" y="890.656">Player</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="452.5" x2="517.5" y1="902" y2="902"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="452.5" x2="517.5" y1="910" y2="910"/><!--class PlayerToggle--><rect fill="#FEFECE" filter="url(#f1fawemh8s3fr3)" height="77.9638" id="PlayerToggle" style="stroke: #A80036; stroke-width: 1.5;" width="155" x="624.5" y="534.22"/><ellipse cx="662" cy="550.22" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M662.1094,545.7513 Q661.1875,545.7513 660.4531,546.0638 Q659.7344,546.3763 659.2344,546.97 Q658.7344,547.5481 658.4531,548.4231 Q658.1875,549.2981 658.1875,550.3919 Q658.1875,551.8294 658.625,552.8763 Q659.0781,553.9231 659.9219,554.47 Q660.7813,555.0169 662.0938,555.0169 Q662.875,555.0169 663.5625,554.8919 Q664.2656,554.7513 665.2656,554.4388 L665.2656,556.3138 Q664.4063,556.6419 663.6406,556.7669 Q662.8906,556.8919 661.875,556.8919 Q659.9531,556.8919 658.6406,556.095 Q657.3438,555.2825 656.6875,553.8138 Q656.0313,552.3294 656.0313,550.3606 Q656.0313,548.9388 656.4219,547.7669 Q656.8281,546.5794 657.6094,545.7044 Q658.3906,544.8294 659.5313,544.3606 Q660.6719,543.8763 662.1406,543.8763 Q663.0938,543.8763 663.9844,544.0794 Q664.8906,544.2669 665.8281,544.7356 L665,546.5169 Q664.2188,546.1419 663.5625,545.9544 Q662.9063,545.7513 662.1094,545.7513 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="73" x="681" y="554.876">PlayerToggle</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="625.5" x2="778.5" y1="566.22" y2="566.22"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="625.5" x2="778.5" y1="574.22" y2="574.22"/><ellipse cx="635.5" cy="587.2109" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="129" x="644.5" y="589.9789">getCurrentState(): Player</text><ellipse cx="635.5" cy="602.1928" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="68" x="644.5" y="604.9608">toggle(): Unit</text><!--class GamePhase--><rect fill="#FEFECE" filter="url(#f1fawemh8s3fr3)" height="167.8551" id="GamePhase" style="stroke: #A80036; stroke-width: 1.5;" width="138" x="815" y="489.27"/><ellipse cx="847.1" cy="505.27" fill="#FFA500" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M850.5688,511.77 L843.2563,511.77 L843.2563,499.0981 L850.5688,499.0981 L850.5688,500.9731 L845.3031,500.9731 L845.3031,504.2388 L850.2563,504.2388 L850.2563,506.0981 L845.3031,506.0981 L845.3031,509.895 L850.5688,509.895 L850.5688,511.77 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="68" x="864.9" y="509.926">GamePhase</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="816" x2="952" y1="521.27" y2="521.27"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="58" x="821" y="537.0289">WindPhase</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="101" x="821" y="552.0108">RedrawCardsPhase</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="126" x="821" y="566.9927">PlayStandardCardPhase</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="71" x="821" y="581.9746">WaitingPhase</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="114" x="821" y="596.9565">PlaySpecialCardPhase</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="76" x="821" y="611.9384">EndTurnPhase</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="75" x="821" y="626.9202">DecisionPhase</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="81" x="821" y="641.9021">EndGamePhase</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="816" x2="952" y1="649.1251" y2="649.1251"/><!--class IGameEffect--><rect fill="#FEFECE" filter="url(#f1fawemh8s3fr3)" height="48" id="IGameEffect" style="stroke: #A80036; stroke-width: 1.5;" width="102" x="988" y="549.2"/><ellipse cx="1003" cy="565.2" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M1003.1094,560.7313 Q1002.1875,560.7313 1001.4531,561.0438 Q1000.7344,561.3563 1000.2344,561.95 Q999.7344,562.5281 999.4531,563.4031 Q999.1875,564.2781 999.1875,565.3719 Q999.1875,566.8094 999.625,567.8563 Q1000.0781,568.9031 1000.9219,569.45 Q1001.7813,569.9969 1003.0938,569.9969 Q1003.875,569.9969 1004.5625,569.8719 Q1005.2656,569.7313 1006.2656,569.4188 L1006.2656,571.2938 Q1005.4063,571.6219 1004.6406,571.7469 Q1003.8906,571.8719 1002.875,571.8719 Q1000.9531,571.8719 999.6406,571.075 Q998.3438,570.2625 997.6875,568.7938 Q997.0313,567.3094 997.0313,565.3406 Q997.0313,563.9188 997.4219,562.7469 Q997.8281,561.5594 998.6094,560.6844 Q999.3906,559.8094 1000.5313,559.3406 Q1001.6719,558.8563 1003.1406,558.8563 Q1004.0938,558.8563 1004.9844,559.0594 Q1005.8906,559.2469 1006.8281,559.7156 L1006,561.4969 Q1005.2188,561.1219 1004.5625,560.9344 Q1003.9063,560.7313 1003.1094,560.7313 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="70" x="1017" y="569.856">IGameEffect</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="989" x2="1089" y1="581.2" y2="581.2"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="989" x2="1089" y1="589.2" y2="589.2"/><!--class Card--><rect fill="#FEFECE" filter="url(#f1fawemh8s3fr3)" height="48" id="Card" style="stroke: #A80036; stroke-width: 1.5;" width="59" x="307.5" y="979"/><ellipse cx="322.5" cy="995" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M322.6094,990.5313 Q321.6875,990.5313 320.9531,990.8438 Q320.2344,991.1563 319.7344,991.75 Q319.2344,992.3281 318.9531,993.2031 Q318.6875,994.0781 318.6875,995.1719 Q318.6875,996.6094 319.125,997.6563 Q319.5781,998.7031 320.4219,999.25 Q321.2813,999.7969 322.5938,999.7969 Q323.375,999.7969 324.0625,999.6719 Q324.7656,999.5313 325.7656,999.2188 L325.7656,1001.0938 Q324.9063,1001.4219 324.1406,1001.5469 Q323.3906,1001.6719 322.375,1001.6719 Q320.4531,1001.6719 319.1406,1000.875 Q317.8438,1000.0625 317.1875,998.5938 Q316.5313,997.1094 316.5313,995.1406 Q316.5313,993.7188 316.9219,992.5469 Q317.3281,991.3594 318.1094,990.4844 Q318.8906,989.6094 320.0313,989.1406 Q321.1719,988.6563 322.6406,988.6563 Q323.5938,988.6563 324.4844,988.8594 Q325.3906,989.0469 326.3281,989.5156 L325.5,991.2969 Q324.7188,990.9219 324.0625,990.7344 Q323.4063,990.5313 322.6094,990.5313 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="27" x="336.5" y="999.656">Card</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="308.5" x2="365.5" y1="1011" y2="1011"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="308.5" x2="365.5" y1="1019" y2="1019"/><!--class Move--><rect fill="#FEFECE" filter="url(#f1fawemh8s3fr3)" height="48" id="Move" style="stroke: #A80036; stroke-width: 1.5;" width="63" x="420.5" y="979"/><ellipse cx="435.5" cy="995" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M435.6094,990.5313 Q434.6875,990.5313 433.9531,990.8438 Q433.2344,991.1563 432.7344,991.75 Q432.2344,992.3281 431.9531,993.2031 Q431.6875,994.0781 431.6875,995.1719 Q431.6875,996.6094 432.125,997.6563 Q432.5781,998.7031 433.4219,999.25 Q434.2813,999.7969 435.5938,999.7969 Q436.375,999.7969 437.0625,999.6719 Q437.7656,999.5313 438.7656,999.2188 L438.7656,1001.0938 Q437.9063,1001.4219 437.1406,1001.5469 Q436.3906,1001.6719 435.375,1001.6719 Q433.4531,1001.6719 432.1406,1000.875 Q430.8438,1000.0625 430.1875,998.5938 Q429.5313,997.1094 429.5313,995.1406 Q429.5313,993.7188 429.9219,992.5469 Q430.3281,991.3594 431.1094,990.4844 Q431.8906,989.6094 433.0313,989.1406 Q434.1719,988.6563 435.6406,988.6563 Q436.5938,988.6563 437.4844,988.8594 Q438.3906,989.0469 439.3281,989.5156 L438.5,991.2969 Q437.7188,990.9219 437.0625,990.7344 Q436.4063,990.5313 435.6094,990.5313 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="31" x="449.5" y="999.656">Move</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="421.5" x2="482.5" y1="1011" y2="1011"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="421.5" x2="482.5" y1="1019" y2="1019"/><!--class TowerPosition--><rect fill="#FEFECE" filter="url(#f1fawemh8s3fr3)" height="48" id="TowerPosition" style="stroke: #A80036; stroke-width: 1.5;" width="111" x="518.5" y="979"/><ellipse cx="533.5" cy="995" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M533.6094,990.5313 Q532.6875,990.5313 531.9531,990.8438 Q531.2344,991.1563 530.7344,991.75 Q530.2344,992.3281 529.9531,993.2031 Q529.6875,994.0781 529.6875,995.1719 Q529.6875,996.6094 530.125,997.6563 Q530.5781,998.7031 531.4219,999.25 Q532.2813,999.7969 533.5938,999.7969 Q534.375,999.7969 535.0625,999.6719 Q535.7656,999.5313 536.7656,999.2188 L536.7656,1001.0938 Q535.9063,1001.4219 535.1406,1001.5469 Q534.3906,1001.6719 533.375,1001.6719 Q531.4531,1001.6719 530.1406,1000.875 Q528.8438,1000.0625 528.1875,998.5938 Q527.5313,997.1094 527.5313,995.1406 Q527.5313,993.7188 527.9219,992.5469 Q528.3281,991.3594 529.1094,990.4844 Q529.8906,989.6094 531.0313,989.1406 Q532.1719,988.6563 533.6406,988.6563 Q534.5938,988.6563 535.4844,988.8594 Q536.3906,989.0469 537.3281,989.5156 L536.5,991.2969 Q535.7188,990.9219 535.0625,990.7344 Q534.4063,990.5313 533.6094,990.5313 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="79" x="547.5" y="999.656">TowerPosition</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="519.5" x2="628.5" y1="1011" y2="1011"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="519.5" x2="628.5" y1="1019" y2="1019"/><!--class Grid--><rect fill="#FEFECE" filter="url(#f1fawemh8s3fr3)" height="48" id="Grid" style="stroke: #A80036; stroke-width: 1.5;" width="56" x="84" y="870"/><ellipse cx="99" cy="886" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M99.1094,881.5313 Q98.1875,881.5313 97.4531,881.8438 Q96.7344,882.1563 96.2344,882.75 Q95.7344,883.3281 95.4531,884.2031 Q95.1875,885.0781 95.1875,886.1719 Q95.1875,887.6094 95.625,888.6563 Q96.0781,889.7031 96.9219,890.25 Q97.7813,890.7969 99.0938,890.7969 Q99.875,890.7969 100.5625,890.6719 Q101.2656,890.5313 102.2656,890.2188 L102.2656,892.0938 Q101.4063,892.4219 100.6406,892.5469 Q99.8906,892.6719 98.875,892.6719 Q96.9531,892.6719 95.6406,891.875 Q94.3438,891.0625 93.6875,889.5938 Q93.0313,888.1094 93.0313,886.1406 Q93.0313,884.7188 93.4219,883.5469 Q93.8281,882.3594 94.6094,881.4844 Q95.3906,880.6094 96.5313,880.1406 Q97.6719,879.6563 99.1406,879.6563 Q100.0938,879.6563 100.9844,879.8594 Q101.8906,880.0469 102.8281,880.5156 L102,882.2969 Q101.2188,881.9219 100.5625,881.7344 Q99.9063,881.5313 99.1094,881.5313 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="24" x="113" y="890.656">Grid</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="85" x2="139" y1="902" y2="902"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="85" x2="139" y1="910" y2="910"/><!--class Direction--><rect fill="#FEFECE" filter="url(#f1fawemh8s3fr3)" height="48" id="Direction" style="stroke: #A80036; stroke-width: 1.5;" width="83" x="175.5" y="870"/><ellipse cx="190.5" cy="886" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M190.6094,881.5313 Q189.6875,881.5313 188.9531,881.8438 Q188.2344,882.1563 187.7344,882.75 Q187.2344,883.3281 186.9531,884.2031 Q186.6875,885.0781 186.6875,886.1719 Q186.6875,887.6094 187.125,888.6563 Q187.5781,889.7031 188.4219,890.25 Q189.2813,890.7969 190.5938,890.7969 Q191.375,890.7969 192.0625,890.6719 Q192.7656,890.5313 193.7656,890.2188 L193.7656,892.0938 Q192.9063,892.4219 192.1406,892.5469 Q191.3906,892.6719 190.375,892.6719 Q188.4531,892.6719 187.1406,891.875 Q185.8438,891.0625 185.1875,889.5938 Q184.5313,888.1094 184.5313,886.1406 Q184.5313,884.7188 184.9219,883.5469 Q185.3281,882.3594 186.1094,881.4844 Q186.8906,880.6094 188.0313,880.1406 Q189.1719,879.6563 190.6406,879.6563 Q191.5938,879.6563 192.4844,879.8594 Q193.3906,880.0469 194.3281,880.5156 L193.5,882.2969 Q192.7188,881.9219 192.0625,881.7344 Q191.4063,881.5313 190.6094,881.5313 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="51" x="204.5" y="890.656">Direction</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="176.5" x2="257.5" y1="902" y2="902"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="176.5" x2="257.5" y1="910" y2="910"/><!--class GameBoardManager--><rect fill="#FEFECE" filter="url(#f1fawemh8s3fr3)" height="62.9819" id="GameBoardManager" style="stroke: #A80036; stroke-width: 1.5;" width="409" x="338.5" y="61.53"/><ellipse cx="479.25" cy="77.53" fill="#ADD8E6" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M480.2656,84.78 L478.2188,84.78 L478.2188,73.9831 L474.4219,73.9831 L474.4219,72.1081 L484.0469,72.1081 L484.0469,73.9831 L480.2656,73.9831 L480.2656,84.78 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="119" x="499.75" y="82.186">GameBoardManager</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="339.5" x2="746.5" y1="93.53" y2="93.53"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="339.5" x2="746.5" y1="101.53" y2="101.53"/><ellipse cx="349.5" cy="114.5209" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="383" x="358.5" y="117.2889">gameBoardEffectSolver(gb: GameBoard, effect: IGameEffect): GameBoard</text><!--link GameBoard to Board--><path d="M401.23,410.84 C356.24,443.5 307.81,478.67 267.68,507.81 " fill="none" id="GameBoard-Board" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="264.05,510.44,273.6852,508.3996,268.0992,507.5068,268.9921,501.9209,264.05,510.44" style="stroke: #A80036; stroke-width: 1.0;"/><!--link GameBoard to Deck--><path d="M424.34,428.76 C409.31,448.01 395.27,468.47 384,489.27 C347.1,557.39 358.7,582.75 337,657.13 C334.76,664.81 332.4,672.8 330.01,680.78 " fill="none" id="GameBoard-Deck" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="328.62,685.44,335.0211,677.9549,330.0463,680.6477,327.3535,675.6729,328.62,685.44" style="stroke: #A80036; stroke-width: 1.0;"/><!--link GameBoard to Player--><path d="M474.53,428.5 C466.05,448.26 458.72,468.94 454,489.27 C422.13,626.59 459.21,796.51 476.78,863.69 " fill="none" id="GameBoard-Player" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="478.02,868.41,479.5767,858.6849,476.737,863.5774,471.8445,860.7377,478.02,868.41" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="44" x="455" y="578.597">player1</text><!--link GameBoard to Player--><path d="M531.02,428.77 C517.31,567.1 495.74,784.68 487.94,863.36 " fill="none" id="GameBoard-Player-1" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="487.46,868.16,492.3138,859.5903,487.9448,863.1836,484.3515,858.8146,487.46,868.16" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="44" x="525" y="578.597">player2</text><!--link GameBoard to PlayerToggle--><path d="M615.52,428.44 C637.02,464.18 659.21,501.06 675.72,528.52 " fill="none" id="GameBoard-PlayerToggle" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="678.17,532.58,676.9695,522.8046,675.5975,528.2925,670.1096,526.9205,678.17,532.58" style="stroke: #A80036; stroke-width: 1.0;"/><!--link GameBoard to GamePhase--><path d="M684.73,403.75 C722.04,430.42 761.71,460.1 797,489.27 C801.25,492.79 805.55,496.46 809.85,500.22 " fill="none" id="GameBoard-GamePhase" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="813.37,503.33,809.2838,494.3688,809.6267,500.0153,803.9802,500.3582,813.37,503.33" style="stroke: #A80036; stroke-width: 1.0;"/><!--link GameBoard to IGameEffect--><path d="M684.95,348.73 C772.9,378.52 885.06,424.96 971,489.27 C990.86,504.13 1008.46,525.98 1020.78,543.52 " fill="none" id="GameBoard-IGameEffect" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="1023.57,547.57,1021.7603,537.8888,1020.7343,543.4519,1015.1713,542.4259,1023.57,547.57" style="stroke: #A80036; stroke-width: 1.0;"/><!--link Board to Grid--><path d="M166.24,634.91 C151.89,703.17 129.18,811.24 118.27,863.19 " fill="none" id="Board-Grid" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="117.24,868.05,123.0083,860.0671,118.2701,863.1573,115.1799,858.419,117.24,868.05" style="stroke: #A80036; stroke-width: 1.0;"/><!--link Board to Direction--><path d="M172.12,635.14 C167.92,689.87 166.57,771.86 186,840 C188.35,848.25 192.29,856.55 196.58,864.06 " fill="none" id="Board-Direction" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="199.14,868.33,197.9395,858.5546,196.5675,864.0425,191.0796,862.6705,199.14,868.33" style="stroke: #A80036; stroke-width: 1.0;"/><!--link Deck to Card--><path d="M315.21,840.34 C321.25,885.13 328.56,939.34 332.99,972.22 " fill="none" id="Deck-Card" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="333.63,977,336.3858,967.5446,332.9589,972.0452,328.4582,968.6183,333.63,977" style="stroke: #A80036; stroke-width: 1.0;"/><!--link Player to Move--><path d="M477.76,918.48 C472.86,934.37 466.35,955.48 461.1,972.5 " fill="none" id="Player-Move" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="459.67,977.13,466.1383,969.703,461.1394,972.3508,458.4916,967.3519,459.67,977.13" style="stroke: #A80036; stroke-width: 1.0;"/><!--link Player to Card--><path d="M452.52,918.48 C428.69,935.71 396.36,959.08 371.97,976.72 " fill="none" id="Player-Card" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="368.11,979.51,377.7486,977.4858,372.1641,976.5836,373.0663,970.9991,368.11,979.51" style="stroke: #A80036; stroke-width: 1.0;"/><!--link Player to TowerPosition--><path d="M504.53,918.48 C518.1,934.79 536.23,956.6 550.58,973.84 " fill="none" id="Player-TowerPosition" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="553.55,977.41,550.8855,967.9284,550.3589,973.5607,544.7267,973.0341,553.55,977.41" style="stroke: #A80036; stroke-width: 1.0;"/><!--link PlayerToggle to Player--><path d="M686.19,612.31 C662.43,666.69 613.66,767.93 552,840 C543.87,849.5 533.83,858.49 524.02,866.28 " fill="none" id="PlayerToggle-Player" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="520.12,869.31,529.6823,866.9515,524.0698,866.2442,524.7771,860.6318,520.12,869.31" style="stroke: #A80036; stroke-width: 1.0;"/><!--link GameBoardManager to GameBoard--><path d="M543,146.25 C543,158.33 543,171.67 543,185.35 " fill="none" id="GameBoardManager-GameBoard" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="none" points="536,146.34,543,126.34,550,146.34,536,146.34" style="stroke: #A80036; stroke-width: 1.0;"/><!--
@startuml

package model.gameboard {
  class GameBoard {
    - Board board
    - Deck deck
    - Player player1
    - Player player2
    - PlayerToggle playerManager
    - int turnNumber
    - GamePhase gamePhase
    + isGameEnded(): Option[Player]
    + getCurrentPlayer(): Player
    + getOpponent(): Player
    + updateCurrentPlayer(player: Player): GameBoard
    + changePlayer(): GameBoard
    + solveEffect(effect: IGameEffect): GameBoard
  }

  class Board {
    - Grid grid
    - Direction windDirection
    + isOnFire(towerPosition: TowerPosition): Boolean
    + withRandomWindAndStandardGrid(): Board
    + withRandomWindAndEndgameGrid(): Board
  }

  class Deck {
    - List[Card] standardCards
    - List[Card] specialCards
    - List[Card] playedCards
    + shuffle(): Deck
    + drawCard(): (Option[Card], Deck)
    + drawSpecialCard(): (Option[Card], Deck)
    - regenerate(): Deck
  }

  class Player {
  }

  class PlayerToggle {
    + getCurrentState(): Player
    + toggle(): Unit
  }

  enum GamePhase << (E, orange) >> {
    WindPhase
    RedrawCardsPhase
    PlayStandardCardPhase
    WaitingPhase
    PlaySpecialCardPhase
    EndTurnPhase
    DecisionPhase
    EndGamePhase
  }

  class IGameEffect
  class Card
  class Move
  class TowerPosition
  class Grid
  class Direction
  class GameBoardManager << (T, lightblue) >> {
    + gameBoardEffectSolver(gb: GameBoard, effect: IGameEffect): GameBoard
  }
}

GameBoard - -> Board
GameBoard - -> Deck
GameBoard - -> Player : player1
GameBoard - -> Player : player2
GameBoard - -> PlayerToggle
GameBoard - -> GamePhase
GameBoard - -> IGameEffect
Board - -> Grid
Board - -> Direction
Deck - -> Card
Player - -> Move
Player - -> Card
Player - -> TowerPosition
PlayerToggle - -> Player
GameBoard -up-|> GameBoardManager

@enduml

PlantUML version 1.2019.06(Fri May 24 19:10:25 CEST 2019)
(APACHE source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Java Version: 21.0.3+9-LTS
Operating System: Linux
OS Version: 6.10.6-200.fc40.x86_64
Default Encoding: UTF-8
Language: it
Country: IT
--></g></svg>